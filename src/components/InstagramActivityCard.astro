---
interface Props {
  postUrl: string;
  caption?: string;
  date?: string;
}

const { postUrl, caption = "Actividad de Escuelas Embajadoras", date = new Date().toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' }) } = Astro.props;
---

<article class="bg-white rounded-xl shadow-lg overflow-hidden mb-8 card hover:shadow-xl transition-all duration-300">
  <div class="flex flex-col md:flex-row">
    <!-- Contenedor de la publicación de Instagram (iframe) -->
    <div class="md:w-2/5 relative overflow-hidden group">
      <div class="instagram-post h-full min-h-[300px] md:min-h-[400px] relative bg-gray-100">
        <iframe 
          src={`${postUrl}embed/`} 
          class="absolute inset-0 w-full h-full border-0"
          loading="lazy"
          allowtransparency="true"
          allowfullscreen="true"
          scrolling="no"
          title="Publicación de Instagram"
        ></iframe>
      </div>
    </div>
    
    <!-- Contenido con formato similar a ActivityCard -->
    <div class="p-6 md:w-3/5 flex flex-col">
      <div class="mb-4">
        <time datetime={date} class="text-sm font-medium text-blue-900">{date}</time>
      </div>
      
      <div class="prose prose-blue max-w-none">
        <p>{caption}</p>
      </div>
      
      <div class="mt-4">
        <a 
          href={postUrl} 
          target="_blank" 
          rel="noopener noreferrer" 
          class="inline-flex items-center text-blue-900 hover:text-blue-700 font-medium"
        >
          <span>Ver en Instagram</span>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </a>
      </div>
    </div>
  </div>
</article>

<style>
  .instagram-post {
    background-color: #fafafa;
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }
</style>
